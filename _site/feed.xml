<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rabbit</title>
    <description>有点理性，有点感性，有点执着，有点懒散，有点认真，有点浪的一枚普通程序媛</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Fri, 28 Apr 2017 20:05:04 +0800</pubDate>
    <lastBuildDate>Fri, 28 Apr 2017 20:05:04 +0800</lastBuildDate>
    <generator>Jekyll v3.4.0</generator>
    
      <item>
        <title>yeoman简介与npm发包</title>
        <description>&lt;h1 id=&quot;yeoman&quot;&gt;YEOMAN&lt;/h1&gt;
&lt;p&gt;yeoman脚手架工具
Generators: 通过&lt;code class=&quot;highlighter-rouge&quot;&gt;yo&lt;/code&gt;命令来生成文件&lt;/p&gt;
&lt;h2 id=&quot;组织自己的generators&quot;&gt;组织自己的generators&lt;/h2&gt;
&lt;h3 id=&quot;设置为一个node-module&quot;&gt;设置为一个node module&lt;/h3&gt;
&lt;p&gt;generator的核心就是node模块&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;创建一个名为’generator-XX’的文件夹。
    &lt;ul&gt;
      &lt;li&gt;Yeoman会依旧依赖稳健系统查找可用的generators&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;文件中创建&lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt;文件
    &lt;ul&gt;
      &lt;li&gt;可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;npm init&lt;/code&gt;创建&lt;/li&gt;
      &lt;li&gt;name必须要有&lt;code class=&quot;highlighter-rouge&quot;&gt;generator-&lt;/code&gt;前缀&lt;/li&gt;
      &lt;li&gt;关键字&lt;code class=&quot;highlighter-rouge&quot;&gt;keywords&lt;/code&gt;必须是&lt;code class=&quot;highlighter-rouge&quot;&gt;yeoman-generator&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;必须确保使用最新版本的&lt;code class=&quot;highlighter-rouge&quot;&gt;yeoman-generator&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;npm install --save yeoman-generator&lt;/code&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;文件目录
    &lt;ul&gt;
      &lt;li&gt;可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt;&lt;a href=&quot;https://github.com/yeoman/generator-generator&quot;&gt;generator-generator&lt;/a&gt;该项目，参考其内容&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;扩展generator
    &lt;ul&gt;
      &lt;li&gt;扩展基础generator
        &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      var Generator = require('yeoman-generator');
      module.exports = class extends Geneator{};
&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;覆盖constructor方法
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;constructor(args, opts) {
   super(args, opts);
   this.option('babel');
}
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;添加自己的功能
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; module.exports = class extends Generator {
    // overwrite constructor
    constructor(args, opts) {
       super(args, opts);
       this.option('babel');
    }
	   
    method1() {
       this.log('method 1 just ran');
    }
	   
    method2() {
       this.log('method 2 just ran');
    }
 };
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;运行generator
    &lt;ul&gt;
      &lt;li&gt;本地开发generator，不能作为全局npm module使用&lt;/li&gt;
      &lt;li&gt;使用npm创建全局module,并且和本地的建立链接&lt;/li&gt;
      &lt;li&gt;文件根目录下，运行&lt;code class=&quot;highlighter-rouge&quot;&gt;npm link&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;运行此命令之前需要进行npm发包，发包过程如下&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;link成功之后使用&lt;code class=&quot;highlighter-rouge&quot;&gt;yo name&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;踩坑&lt;/em&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;yo name&lt;/code&gt;命令中一定要使用name,而创建自己的generator必须要以generator-为前缀，即文件名为&lt;code class=&quot;highlighter-rouge&quot;&gt;generator-name&lt;/code&gt;。则使用&lt;code class=&quot;highlighter-rouge&quot;&gt;yo name&lt;/code&gt;的时候，只使用后面的name&lt;/li&gt;
          &lt;li&gt;执行&lt;code class=&quot;highlighter-rouge&quot;&gt;yo name&lt;/code&gt;之前，要保证yo和generator-name安装在同一目录下，如yo是全局安装，则generator-name也要是全局安装。&lt;em&gt;yo XXX 的时候，在yo里要执行require(‘generator-XXX’)，因此位置必须统一&lt;/em&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;npm发包&quot;&gt;npm发包&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;注册账号&lt;/li&gt;
  &lt;li&gt;添加package.json文件，发包
    &lt;ul&gt;
      &lt;li&gt;npm publish&lt;/li&gt;
      &lt;li&gt;踩坑: 因为使用了公司npm镜像，然后莫名一直安装失败，只有使用&lt;code class=&quot;highlighter-rouge&quot;&gt;npm config set registry https://registry.npmjs.org/&lt;/code&gt;之后，再进行&lt;code class=&quot;highlighter-rouge&quot;&gt;npm publish&lt;/code&gt;才能成功&lt;/li&gt;
      &lt;li&gt;心得: 一定要看log文件，比在网上查好得多！！&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Fri, 28 Apr 2017 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2017/04/28/yeoman-npm/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/04/28/yeoman-npm/</guid>
        
        <category>yeoman</category>
        
        <category>npm</category>
        
        <category>学习</category>
        
        
      </item>
    
  </channel>
</rss>
